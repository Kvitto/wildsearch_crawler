# WildSearch crawler

Инструмент сбора данных о разделах, товарах и позициях товаров в разделах сайта [Wildberries](https://www.wildberries.ru/)

## Установка

Установка скрапера `pip install -r requirements.txt`

## Доступные скраперы

## wb – универсальный скрапер Wildberries

Скрапер называется `wb`, запускается в трех режимах:

- Без параметров – обход начинается с карты разделов сайта и заканчивается только когда будет собрано всё.
- Анализ категории: `scrapy crawl wb -o artifacts/wb.json -a category_url="https://www.wildberries.ru/catalog/zhenshchinam/odezhda/vodolazki"`
- Анализ товара со всеми вариациями `scrapy crawl wb -o artifacts/wb.json -a good_url="https://www.wildberries.ru/catalog/8685970/detail.aspx"`

В обоих случаях он сохранит результаты в файл artifacts/wb.json благодаря опции -o.

Помимо возможности задать конкретный товар и конкретный раздел, парсер принимает следующий набор опций (ключ `-a` нужно ставить каждый раз перед каждой опцией):

- `-a skip_images=true` – не сохраняет изображения товаров
- `-a skip_variants=true` – сохраняет только родительский товар, но не дочерние
- `-a allow_dupes=true` – отключает фильтр дупликатов страниц, чтобы сохранять каждый встреченный товар, даже если он уже был скачан
- `-a skip_details=true` – проходится только по каталогу, не заходя в карточки товаров. Выгрузка получается сокращенная (только позиции)

## wb_categories – скрапер текущих активных категорий

Скрапер называется `wb_categories` и осуществляет сбор доступных на карте сайта категорий. Запускается без параметров.